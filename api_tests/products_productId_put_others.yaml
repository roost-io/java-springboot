# Test generated by RoostGPT for test dmtest-api-spec using AI Type Azure Open AI and AI Model roost-gpt4-32k


# RoostTestHash=6762b8ac71

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 1
  plugins:
    expect: { }
  payload:
    path: "products_productId_put_others.csv"
    fields:
      - "productId"
    skipHeader: true
scenarios:
  - flow:
      - log: "Making an invalid PUT request with missing product ID"
        put:
          url: "/products/"
          headers:
            Content-Type: "application/json"
            {{ SECURITY_SCHEMA.name }}: "{{ $processEnvironment.AUTH_TOKEN }}"
          json:
            name: "Product"
            description: "Invalid ProductService"
        expect:
          - statusCode: 404
        # Expecting a 404 error due to missing product ID
      - think: 1

      - log: "Making a PUT request with no payload"
        put:
          url: "/products/{{ productId }}"
          headers:
            Content-Type: "application/json"
            {{ SECURITY_SCHEMA.name }}: "{{ $processEnvironment.AUTH_TOKEN }}"
        expect:
          - statusCode: 400
        # Expecting a 400 error due to missing payload
      - think: 1

      - log: "Making an invalid PUT request with incorrect product ID"
        put:
          url: "/products/invalidProductId"
          headers:
            Content-Type: "application/json"
            {{ SECURITY_SCHEMA.name }}: "{{ $processEnvironment.AUTH_TOKEN }}"
          json:
            productId: "{{ productId }}"
            name: "Product"
            description: "Invalid ProductService"
        expect:
          - statusCode: 404
        # Expecting a 404 error due to invalid product ID
      - think: 1

      - log: "Making an invalid PUT request with missing token"
        put:
          url: "/products/{{ productId }}"
          headers:
            Content-Type: "application/json"
          json:
            productId: "{{ productId }}"
            name: "Product"
            description: "Invalid ProductService"
        expect:
          - statusCode: 401
        # Expecting a 401 unauthorized error due to missing token
      - think: 1
