// Test generated by RoostGPT for test divyesh-Integration using AI Type Open AI and AI Model gpt-4

config:
  target: "http://52.66.106.18:8080/api"
  phases:
    - duration: 60
      arrivalRate: 5
  payload:
    fields:
      - "name"
      - "description"
      - "price"

scenarios:
  - name: "Update an existing product"
    # This scenario tests the ability of the API to update an existing product and retrieve the updated product details.
    flow:
      - put: # Changed from POST to PUT as we are updating an existing product
          url: "/products/1"
          json:
            name: "{{ name }}" # Using variables from payload
            description: "{{ description }}" # Using variables from payload
            price: "{{ price }}" # Using variables from payload
          headers:
            Content-Type: "application/json"
          expect:
            - statusCode: 200 # Expecting a successful operation
            - equals:
                - "name"
                - "{{ name }}" # Expecting the updated name
            - equals:
                - "description"
                - "{{ description }}" # Expecting the updated description
            - equals:
                - "price"
                - "{{ price }}" # Expecting the updated price
      - get: # Retrieving the updated product to validate the update operation
          url: "/products/1"
          expect:
            - statusCode: 200 # Expecting a successful operation
            - equals:
                - "name"
                - "{{ name }}" # Expecting the updated name
            - equals:
                - "description"
                - "{{ description }}" # Expecting the updated description
            - equals:
                - "price"
                - "{{ price }}" # Expecting the updated price
