# Test generated by RoostGPT for test dm-artillery-test using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=ab8efa24ed

config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "products_productId_get_others.csv"
    fields:
      - "productId"
    skipHeader: true

scenarios:
  - name: "Scenario: Test failures for get product by id endpoint"
    flow:
      - log: "Request 1: Sending invalid productId to /products/{productId}"
        get:
          url: "/products/abc" # Invalid URL
          headers:
            Authorization: "InvalidToken" # Invalid Authorization token
          expect:
            - statusCode: 404 # Because product doesn't exist
            - hasProperty: "description"
      - think: 1

      - log: "Request 2: Sending request without any productId to /products/{productId}"
        get:
          url: "/products/"  # product Id missing
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 400 # Error because required path parameter is not provided
      - think: 1

      - log: "Request 3: Sending large invalid integer as productId to /products/{productId}"
        get:
          url: "/products/2147483648" # Large value of integer datatype
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 400 # Error due to large value exceeding integer datatype limit
            - hasProperty: "description"
      - think: 1

      - log: "Request 4: Sending id of product that doesn't exist to /products/{productId}"
        get:
          url: "/products/{{ productId }}" # Existing product Id doesn't exist
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 404 # Because product doesn't exist
            - hasProperty: "description"            
