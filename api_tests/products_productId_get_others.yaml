# Test generated by RoostGPT for test dmtest-api-spec using AI Type Azure Open AI and AI Model roost-gpt4-32k


# RoostTestHash=52a171b52e

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 20
      arrivalRate: 1
  plugins:
    expect: {}
  payloads:
    - path: "products_productId_get_others.csv"
      fields: ["Time"]
      skipHeader: true
scenarios:
  - name: edge case scenario
    flow:
      - log: "Unauthenticated request."
        get:
          url: "/products/{{ productId }}"
          expect:
            - statusCode: 401  # Expecting Unauthorized
      - think: 1
      - log: "Invalid URL request."
        get:
          url: "/products/xyz"  # Invalid product Id
          expect:
            - statusCode: 404  # Expecting Not Found
          headers:
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"  # Provide a valid token
      - think: 1
      - log: "Request sending invalid payload."
        post:
          url: "/products/{{ productId }}"
          headers:
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"  # Provide a valid token
            Content-Type: "application/json"
          json:
            invalidField: "invalid"  # Invalid payload
          expect:
            - statusCode: 400  # Expecting Bad Request
            - hasProperty: "errors"
      - think: 1
