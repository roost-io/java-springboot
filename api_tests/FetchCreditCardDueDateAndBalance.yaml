# ********RoostGPT********

# Test generated by RoostGPT for test TDD-based-test using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# ROOST_METHOD_HASH=f413ede025
# ROOST_METHOD_SIG_HASH=443c01b3f3
# 
#    ########## Scenario ##########  
# 
# {
#   background: null,
#   rule: null,
#   scenario: 'Fetch the credit card due date and balance for a given credit card\n' +
#     '  Given there are valid Credit Card details\n' +
#     '  When the client sends a GET request to "/api/creditCard/details" with the credit card details\n' +
#     '  Then the response status code should be 200\n' +
#     '  And the response should contain the due date and balance',
#   title: 'Fetch the credit card due date and balance for a given credit card'
# }
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}/api"
  plugins:
    expect: {}
  override:
    headers:
      Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
  payload:
    path: "FetchCreditCardDueDateAndBalance.csv"
    fields:
      - creditCardId
    skipHeader: true

scenarios:  
  - name: "Fetch the credit card due date and balance for a given credit card"
    flow:
      # Send a GET request to /creditCard/details endpoint with credit card Id
      - get:
          url: "/creditCard/details?creditCardId={{ creditCardId }}"
          expect:
            # Expect the status code to be 200 (OK).
            - statusCode: 200
            # Expect the response body to have the "dueDate" and "balance" properties.
            - hasProperty: 'dueDate'
            - hasProperty: 'balance'
