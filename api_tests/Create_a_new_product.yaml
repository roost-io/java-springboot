// Test generated by RoostGPT for test dmtestIntegration-2507 using AI Type Open AI and AI Model gpt-4

config:
  target: "{{ $processEnvironment.SERVER_URL }}"
  phases:
    - duration: 60
      arrivalRate: 20
scenarios:
  - name: "Scenario: Create a new product"
    variables:
      payload:
        name: "Test Product"
        description: "This is a test product."
        price: 10.0
      headers:
        Content-Type: "application/json"
    flow:
      - post:
          url: "/products"
          json: "{{ payload }}"
          headers: "{{ headers }}"
          capture:
            json: "$"
            as: "response"
          expect:
            - statusCode: 201
            # Verifying if the returned product matches the one we sent
            - equals:
                - "{{ response.name }}"
                - "{{ payload.name }}"
            - equals:
                - "{{ response.description }}"
                - "{{ payload.description }}"
            - equals:
                - "{{ response.price }}"
                - "{{ payload.price }}"
            # Checking if the product ID is not null, meaning the product was saved successfully
            - not:
                - equals:
                    - "{{ response.id }}"
                    - null
